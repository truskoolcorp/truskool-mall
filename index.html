<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Virtual Tru Skool Mall</title>
  <meta name="description" content="Virtual Tru Skool Mall – static three.js showroom" />
  <style>
    :root {
      --bg: #0b0c10; --panel:#14161b; --text:#e9ecf1; --muted:#9aa0a6;
      --chip:#1a1d23; --chip-br:#2a2e37; --accent:#6aa0ff;
    }
    html, body { height: 100%; }
    body { margin:0; background:var(--bg); color:var(--text); font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji; overflow:hidden; }
    .topbar { position:fixed; left:12px; right:12px; top:12px; display:flex; gap:10px; align-items:center; z-index:20;
      background:rgba(20,22,27,.55); border:1px solid var(--chip-br); border-radius:12px; padding:8px 10px; backdrop-filter:blur(6px); }
    .brand { font-weight:800; letter-spacing:.3px; margin-right:6px; opacity:.95 }
    .chip { display:inline-flex; gap:8px; align-items:center; padding:6px 10px; border-radius:999px; border:1px solid var(--chip-br); background:var(--chip); cursor:pointer; user-select:none; }
    .chip .dot { width:8px; height:8px; border-radius:50%; opacity:.95 }
    .chip:hover { transform: translateY(-1px); }
    .tip { position:fixed; top:12px; right:12px; z-index:19; color:var(--muted); font-size:12px; opacity:.9;
      background:rgba(20,22,27,.55); border:1px solid var(--chip-br); border-radius:10px; padding:6px 10px; backdrop-filter:blur(6px); }
    #three { position:fixed; inset:0; display:block; width:100%; height:100%; }
    .foot { position:fixed; left:0; right:0; bottom:8px; text-align:center; color:#8a909a; font-size:11px; opacity:.9; pointer-events:none; }

    /* Loader */
    #loader { position:fixed; inset:0; display:grid; place-items:center; z-index:40; pointer-events:none;
      background: radial-gradient(ellipse at center, rgba(0,0,0,.25), rgba(0,0,0,.7) 60%, rgba(0,0,0,.88)); transition: opacity .25s ease .05s, visibility 0s linear .3s; }
    #loader.hide { opacity:0; visibility:hidden; }
    .spinner { width:50px; height:50px; border:3px solid rgba(255,255,255,.25); border-top-color:#fff; border-radius:50%; animation:spin 1.1s linear infinite; margin: 10px auto; }
    .msg { text-align:center; color:#eaeaf2; font-weight:600; letter-spacing:.3px; }
    @keyframes spin { to { transform: rotate(360deg); } }
    @media (max-width:640px){ .tip{ display:none } .brand{ display:none } }
  </style>

  <!-- Import map: pin 'three' to CDN (single source to avoid duplicate instances) -->
  <script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.159.0/build/three.module.js"
    }
  }
  </script>
</head>
<body>
  <div class="topbar">
    <div class="brand">Virtual Tru Skool Mall</div>
    <div id="chipRow" style="display:flex;gap:8px;flex-wrap:wrap"></div>
  </div>
  <div class="tip">Tip: click a brand chip or 3D sign to open its link.</div>

  <canvas id="three"></canvas>

  <div class="foot">Tru Skool • three.js • Netlify-ready • Add avatars later</div>

  <!-- Loader -->
  <div id="loader" aria-live="polite">
    <div>
      <div class="spinner"></div>
      <div class="msg" id="loaderMsg">Loading…</div>
    </div>
  </div>

  <!-- Main app -->
  <script type="module" src="/src/main.js?v=5"></script>
</body>
</html>
