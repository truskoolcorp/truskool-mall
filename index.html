<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Virtual Tru Skool Mall</title>
  <meta name="description" content="Virtual Tru Skool Mall – three.js showroom" />

  <!-- Local import map so example loaders can resolve `import 'three'` when using /vendor fallback -->
  <script type="importmap">
  {
    "imports": {
      "three": "/vendor/three/three.module.js"
    }
  }
  </script>

  <style>
    :root{
      --bg:#0b0b0e; --panel:#131419; --text:#e8e8ef; --muted:#9aa0a6;
      --chip:#1a1b22; --chip-b:#2b2d36;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font:14px/1.4 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      overflow:hidden;
    }

    /* Top */
    .topbar{
      position:fixed; left:12px; right:12px; top:12px; z-index:20;
      display:flex; align-items:center; gap:10px; padding:8px 10px;
      background:rgba(19,20,25,.6); border:1px solid var(--chip-b);
      border-radius:12px; backdrop-filter:blur(6px);
    }
    .brand{font-weight:800; letter-spacing:.3px; opacity:.9; margin-right:6px}
    #chipRow{display:flex; flex-wrap:wrap; gap:8px}
    .chip{
      display:inline-flex; align-items:center; gap:8px; padding:6px 10px;
      border:1px solid var(--chip-b); background:var(--chip); border-radius:999px;
      cursor:pointer; user-select:none; transition:transform .12s ease, border-color .12s ease;
    }
    .chip:hover{transform:translateY(-1px); border-color:#3a3d47}
    .dot{width:8px; height:8px; border-radius:50%}

    .tip{
      position:fixed; right:12px; top:54px; z-index:19;
      color:var(--muted); font-size:12px; opacity:.9;
      background:rgba(19,20,25,.6); border:1px solid var(--chip-b);
      border-radius:10px; padding:6px 10px; backdrop-filter:blur(6px);
    }

    canvas#three{position:fixed; inset:0; width:100%; height:100%; display:block}

    /* Loader */
    .loader{
      position:fixed; inset:0; z-index:40; display:grid; place-items:center;
      background: radial-gradient(ellipse at center, rgba(0,0,0,.35), rgba(0,0,0,.8) 60%, rgba(0,0,0,.92));
      transition:opacity .25s ease .05s, visibility 0s linear .3s;
      pointer-events:none;
    }
    .loader.hide{opacity:0; visibility:hidden}
    .spinner{
      width:52px; height:52px; border:3px solid rgba(255,255,255,.22);
      border-top-color:#fff; border-radius:50%; animation:spin 1.1s linear infinite; margin:10px auto;
    }
    .load-msg{text-align:center; font-weight:700; letter-spacing:.3px}
    @keyframes spin{to{transform:rotate(360deg)}}

    .foot{
      position:fixed; left:0; right:0; bottom:8px; text-align:center;
      color:#80859a; font-size:11px; opacity:.8; pointer-events:none;
    }

    @media (max-width:640px){ .brand{display:none} .tip{display:none} }
  </style>
</head>
<body>
  <!-- UI -->
  <div class="topbar">
    <div class="brand">Virtual Tru Skool Mall</div>
    <div id="chipRow"></div>
  </div>
  <div class="tip">Tip: click a brand chip or 3D sign to open its link.</div>

  <!-- 3D -->
  <canvas id="three"></canvas>

  <!-- Loader -->
  <div class="loader" id="loader" aria-live="polite">
    <div>
      <div class="spinner"></div>
      <div class="load-msg" id="loaderMsg">Loading…</div>
    </div>
  </div>

  <div class="foot">Tru Skool • three.js • Netlify-ready • Add avatars later</div>

  <!-- App -->
  <script type="module" src="/src/main.js"></script>
</body>
</html>
