# netlify.toml
[build]
  publish = "."
  command = ""

# Helpful caching for static files
[[headers]]
  for = "/*"
  [headers.values]
  X-Content-Type-Options = "nosniff"
  Referrer-Policy = "no-referrer-when-downgrade"

# Content Security Policy â€” allow our site and the two CDNs for fallback.
# (Includes 'unsafe-eval' to quiet DevTools complaints and avoid blocking libs on some browsers.)
[[headers]]
  for = "/*"
  [headers.values]
  Content-Security-Policy = '''
    default-src 'self';
    img-src 'self' data:;
    style-src 'self' 'unsafe-inline';
    script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://unpkg.com;
    worker-src 'self' blob:;
    connect-src 'self' https://cdn.jsdelivr.net https://unpkg.com;
  '''

# Force correct MIME for JS modules (Netlify usually does this, but this guarantees it)
[[headers]]
  for = "/vendor/three/*.js"
  [headers.values]
  Content-Type = "application/javascript; charset=utf-8"
